const DOMString={productContainer:".product__container",productGroup:".product-list__container",productTitle:".product__header h1"},product=t=>{let o=t.target;console.log(o.matches("product__item")),(o="img"==o.localName?o.parentNode.parentNode.id:o.parentNode.id)&&(window.location.href=`./lista-productos#${o}`)},productos=(()=>({callJson:async function(){const t=await fetch("../documents/Productos.json");return await t.json()}}))(),viewProductList={renderProduct:function(t){(t=>{const o=window.location.hash.replace("#",""),r=t.products.find(t=>t.id==o),e=r.items.map(t=>`<div class="product-list__item ${(t=>t?"oferta":null)(t.on_sale)}">\n            <div class="product-list__header">\n                <h4 class="product-list__title">${t.title}</h4>\n                <p class="product-list__text">${t.description}</p>\n\n                <div class="product-list__cheat-featured">\n                    <a href="${t.file_url}" download=""><i class="fas fa-download"><span>Descargar ficha t√©cnica </span></i></a>\n                </div>\n            </div>\n            <figure class="product-list__thumbnail"><img src="${t.img_url}" alt="${t.title}"\n                    title="${t.title}" class="product-list__image"></figure>\n        </div>`);document.querySelector(DOMString.productTitle).textContent=r.product_title,document.querySelector(DOMString.productGroup).insertAdjacentHTML("beforeend",e)})(t)},renderLoader:function(){document.querySelector(DOMString.productGroup).innerHTML='<div class="lds-ellipsis"><div></div><div></div><div></div><div></div></div>'},clearLoader:function(){document.querySelector(DOMString.productGroup).innerHTML=""}},viewProduct={renderProduct:function(t){(t=>{t.products.forEach(t=>{document.querySelector(".product__container").insertAdjacentHTML("beforeend",`<div class="product__item" id="${t.id}">\n                    <h3 class="product__title">${t.product_title}</h3>\n                    <div class="product__thumbnail">\n                        <img src="${t.product_img_url}" alt="" class="product__image" alt="${t.product_title}" title="${t.product_title}">\n                    </div>\n                </div>`)})})(t)}};class Controlador{static async Init(){const t=await productos.callJson();"/lista-productos"==window.location.pathname&&(viewProductList.clearLoader(),viewProductList.renderProduct(t)),"/productos"==window.location.pathname&&viewProduct.renderProduct(t)}}"/productos"==window.location.pathname&&document.querySelector(DOMString.productContainer).addEventListener("click",t=>product(t)),window.addEventListener("load",Controlador.Init);